<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öΩ Football Skill Calculator</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a1628 0%, #1a2f45 100%);
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 24px;
            padding: 45px;
            max-width: 540px;
            width: 100%;
            box-shadow: 0 25px 70px rgba(0,0,0,0.4);
        }
        h1 {
            text-align: center;
            font-size: 28px;
            margin-bottom: 10px;
            color: #fff;
            font-weight: 700;
        }
        .subtitle {
            text-align: center;
            color: #999;
            font-size: 14px;
            margin-bottom: 35px;
            line-height: 1.5;
        }
        .field { margin-bottom: 22px; }
        label {
            display: block;
            font-size: 14px;
            color: #bbb;
            margin-bottom: 7px;
            font-weight: 500;
        }
        input {
            width: 100%;
            padding: 14px 18px;
            background: rgba(255,255,255,0.09);
            border: 1px solid rgba(255,255,255,0.18);
            border-radius: 12px;
            color: #fff;
            font-size: 17px;
            outline: none;
            transition: all 0.2s;
        }
        input:focus { 
            border-color: #42a5f5; 
            background: rgba(255,255,255,0.12);
        }
        input::placeholder { color: #666; }
        .inline-hint {
            font-size: 12px;
            color: #777;
            margin-top: 4px;
        }
        .btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #42a5f5, #1e88e5);
            border: none;
            border-radius: 12px;
            color: #fff;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 12px;
            transition: all 0.2s;
            box-shadow: 0 4px 15px rgba(66,165,245,0.3);
        }
        .btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 25px rgba(66,165,245,0.5); 
        }
        .btn:active { transform: translateY(0); }
        .result-box {
            margin-top: 30px;
            background: rgba(76,175,80,0.12);
            border: 1px solid rgba(76,175,80,0.35);
            border-radius: 16px;
            padding: 28px;
            text-align: center;
            display: none;
        }
        .result-box.show { 
            display: block; 
            animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(15px); }
            to   { opacity: 1; transform: translateY(0); }
        }
        .skill-number {
            font-size: 72px;
            font-weight: 800;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            margin-bottom: 8px;
        }
        .skill-label { 
            font-size: 15px; 
            color: #aaa; 
            margin-bottom: 18px; 
        }
        .rating-badge {
            display: inline-block;
            padding: 8px 20px;
            background: rgba(255,255,255,0.15);
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 16px;
        }
        .details {
            margin-top: 18px;
            font-size: 13px;
            color: #888;
            line-height: 2;
            text-align: left;
            background: rgba(0,0,0,0.25);
            border-radius: 10px;
            padding: 14px 18px;
        }
        .details span { color: #ccc; font-weight: 500; }
        .formula-section {
            margin-top: 28px;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
        }
        .formula-section h3 { 
            font-size: 14px; 
            color: #999; 
            margin-bottom: 12px; 
        }
        .examples {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        .example-btn {
            padding: 10px 14px;
            background: rgba(255,255,255,0.07);
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 10px;
            color: #bbb;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        .example-btn:hover { 
            background: rgba(255,255,255,0.14); 
            color: #fff;
            border-color: rgba(255,255,255,0.25);
        }
        .formula-note {
            margin-top: 22px;
            font-size: 11px;
            color: #666;
            text-align: center;
            line-height: 1.7;
            padding: 12px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }
        .formula-note code {
            color: #42a5f5;
            font-family: 'Courier New', monospace;
            font-size: 11px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>‚öΩ Football Skill Calculator</h1>
    <p class="subtitle">
        –†–∞—Å—á—ë—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–∫–∏–ª–ª–∞ —Ñ—É—Ç–±–æ–ª–∏—Å—Ç–∞ –ø–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –≤–æ–∑—Ä–∞—Å—Ç—É<br>
        <strong>–ß–µ–º —Å—Ç–∞—Ä—à–µ ‚Üí –≤—ã—à–µ skill –ø—Ä–∏ —Ç–æ–π –∂–µ —Ü–µ–Ω–µ</strong>
    </p>

    <div class="field">
        <label>üí∞ –†—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö ‚Ç¨)</label>
        <input type="number" id="mvM" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 50" step="0.1" min="0.1">
        <div class="inline-hint">–ü—Ä–∏–º–µ—Ä—ã: 180 = ‚Ç¨180M, 3 = ‚Ç¨3M, 0.5 = ‚Ç¨500K</div>
    </div>

    <div class="field">
        <label>üéÇ –í–æ–∑—Ä–∞—Å—Ç –∏–≥—Ä–æ–∫–∞</label>
        <input type="number" id="age" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 25" min="16" max="42">
        <div class="inline-hint">–û—Ç 16 –¥–æ 42 –ª–µ—Ç</div>
    </div>

    <button class="btn" onclick="calculate()">‚ö° –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Skill</button>

    <div class="result-box" id="result">
        <div class="skill-number" id="skillValue">--</div>
        <div class="skill-label">OVERALL RATING</div>
        <div class="rating-badge" id="badge">--</div>
        <div class="details" id="details"></div>
    </div>

    <div class="formula-section">
        <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã:</h3>
        <div class="examples">
            <div class="example-btn" onclick="fillExample(180, 27)">–ú–±–∞–ø–ø–µ<br>180M ‚Ä¢ 27</div>
            <div class="example-btn" onclick="fillExample(200, 26)">–•–æ–ª–∞–Ω–¥<br>200M ‚Ä¢ 26</div>
            <div class="example-btn" onclick="fillExample(3, 40)">–ú–æ–¥—Ä–∏—á<br>3M ‚Ä¢ 40</div>
            <div class="example-btn" onclick="fillExample(5, 38)">–í–µ—Ç–µ—Ä–∞–Ω<br>5M ‚Ä¢ 38</div>
            <div class="example-btn" onclick="fillExample(30, 20)">–¢–∞–ª–∞–Ω—Ç<br>30M ‚Ä¢ 20</div>
            <div class="example-btn" onclick="fillExample(1, 22)">–†–ü–õ –∏–≥—Ä–æ–∫<br>1M ‚Ä¢ 22</div>
        </div>
    </div>

    <div class="formula-note">
        <strong>–§–æ—Ä–º—É–ª–∞:</strong> <code>Skill = (ln(MV) ‚àí ln(f<sub>age</sub>) ‚àí C) / Œ±</code><br>
        –≥–¥–µ <code>f(age) = e<sup>‚àí0.025√óage</sup></code>, <code>C = -17</code>, <code>Œ± = 0.40</code><br>
        <em>–ú–æ–Ω–æ—Ç–æ–Ω–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: —á–µ–º —Å—Ç–∞—Ä—à–µ –∏–≥—Ä–æ–∫ ‚Üí —Ç–µ–º –≤—ã—à–µ skill –ø—Ä–∏ —Ä–∞–≤–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</em>
    </div>
</div>

<script>
const K = 0.025;
const C = -17;
const ALPHA = 0.40;

function fAge(age) {
    return Math.exp(-K * age);
}

function calcSkill(mvEur, age) {
    const skill = (Math.log(mvEur) + K * age - C) / ALPHA;
    return Math.min(Math.max(Math.round(skill * 10) / 10, 50), 99);
}

function getSkillColor(skill) {
    if (skill >= 90) return '#4caf50';
    if (skill >= 85) return '#66bb6a';
    if (skill >= 80) return '#fdd835';
    if (skill >= 75) return '#ffb300';
    if (skill >= 70) return '#ff9800';
    return '#ff7043';
}

function getSkillLabel(skill) {
    if (skill >= 90) return 'üåü –ú–∏—Ä–æ–≤–æ–π –∫–ª–∞—Å—Å';
    if (skill >= 85) return 'üíé –≠–ª–∏—Ç–∞';
    if (skill >= 80) return 'üî• –¢–æ–ø-—É—Ä–æ–≤–µ–Ω—å';
    if (skill >= 75) return '‚ö° –°–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏';
    if (skill >= 70) return '‚úÖ –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å';
    if (skill >= 65) return 'üìä –ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ';
    return 'üéØ –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å';
}

function calculate() {
    const mvM = parseFloat(document.getElementById('mvM').value);
    const age = parseInt(document.getElementById('age').value);

    if (!mvM || mvM <= 0) {
        alert('‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å (–±–æ–ª—å—à–µ 0)');
        return;
    }
    if (!age || age < 16 || age > 42) {
        alert('‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç (16‚Äì42 –≥–æ–¥–∞)');
        return;
    }

    const mvEur = mvM * 1000000;
    const skill = calcSkill(mvEur, age);
    const fa = fAge(age);

    const skillEl = document.getElementById('skillValue');
    skillEl.textContent = skill.toFixed(1);
    const color1 = getSkillColor(skill);
    const color2 = getSkillColor(skill - 5);
    skillEl.style.background = 'linear-gradient(135deg, ' + color1 + ', ' + color2 + ')';
    skillEl.style['-webkit-background-clip'] = 'text';

    document.getElementById('badge').textContent = getSkillLabel(skill);

    document.getElementById('details').innerHTML =
        '<span>üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:</span> ‚Ç¨' + mvM.toFixed(2) + 'M<br>' +
        '<span>üéÇ –í–æ–∑—Ä–∞—Å—Ç:</span> ' + age + ' –ª–µ—Ç<br>' +
        '<span>üìâ f(age):</span> ' + fa.toFixed(5) + ' (—á–µ–º —Å—Ç–∞—Ä—à–µ ‚Üí –º–µ–Ω—å—à–µ)<br>' +
        '<span>üéØ –ò—Ç–æ–≥–æ–≤—ã–π skill:</span> ' + skill.toFixed(1) + ' / 99';

    const box = document.getElementById('result');
    box.classList.remove('show');
    void box.offsetWidth;
    box.classList.add('show');
}

function fillExample(mvM, age) {
    document.getElementById('mvM').value = mvM;
    document.getElementById('age').value = age;
    calculate();
}

document.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') calculate();
});
</script>
</body>
</html>
